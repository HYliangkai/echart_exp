<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Echart导出</title>
  </head>

  <body>
    <div style="display: flex; height: 100vh; align-items: center; justify-content: center">
      <div
        id="main"
        style="width: 1462px; height: 432px"
      ></div>
    </div>
  </body>

  <script src="https://unpkg.com/echarts@4.9.0/dist/echarts.js"></script>
  <script>
    const chart = echarts.init(document.getElementById('main'))

    let the_option = {
      title: [
        {
          text: '倾斜角度（°）',
          textStyle: {fontWeight: 'bold', fontFamily: 'Microsoft YaHei', fontSize: 18},
          top: '4%',
          left: '2.5%',
        },
        // {
        //   text: '倾斜角度2（°）',
        //   textStyle: {fontWeight: 'bold', fontFamily: 'Microsoft YaHei', fontSize: 18},
        //   top: '4%',
        //   right: '2.5%',
        // },

        {
          text: '日期(-年-月-日)',
          textStyle: {fontWeight: 'bold', fontFamily: 'Microsoft YaHei', fontSize: 18},
          right: '2%',
          bottom: '2%',
        },
      ],

      tooltip: {
        trigger: 'axis',
        axisPointer: {
          type: 'line',
          lineStyle: {
            color: '#ccc',
          },
        },
        formatter: function (params) {
          var date = new Date(params[0].value[0])
          var dateString = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate()
          var result = dateString + '<br/>'
          params.forEach(function (item) {
            result += item.seriesName + ': ' + item.value[1] + '<br/>'
          })
          return result
        },
      },

      /** 整体布局 */
      grid: {
        show: true,
        left: '5%',
        right: '5%',
        borderColor: '#333',
      },

      /** 图例 */
      legend: {
        top: '4%',
        itemWidth: 50,

        itemStyle: {},

        textStyle: {
          fontSize: 16,
          color: '#333',
        },
      },

      xAxis: [
        /**  下X轴(主X轴) */
        {
          position: 'bottom',
          type: 'time',
          min: 1659283201000,
          max: 1661961599000,
          interval: 3600 * 24 * 999 * 5,

          /** 刻度线 */
          axisTick: {
            length: 8,
            show: true,
            inside: true,
          },

          /** 轴线 */
          axisLine: {
            show: true,
            onZero: false,
            lineStyle: {
              color: '#333',
            },
          },

          /** 轴标签 */
          axisLabel: {
            showMaxLabel: true, //显示尾轴
            showMinLabel: true, //显示头轴
            formatter: function (value, index) {
              // 格式化成  年-月-日，只在第一个刻度显示年份
              var date = new Date(value)
              var texts = [date.getFullYear(), date.getMonth() + 1, date.getDate()]
              return texts.join('-')
            }, // 得到的 label 形如：'2020-12-02'
            textStyle: {
              fontSize: 16,
              color: '#333',
            },
          },

          /** 网格线 */
          splitLine: {
            show: true,
            lineStyle: {
              color: '#ccc',
            },
          },
        },
        /**  上X轴(副X轴,不用于显示) */
        {
          position: 'top',
          type: 'time',
          /** @note 此处数据要和上面保持一致才能显示刻度线 */
          min: 1659283201000,
          max: 1661961599000,
          interval: 3600 * 24 * 999 * 5,
          axisTick: {
            length: 8,
            show: true,
            inside: true,
          },
          axisLine: {
            show: true,
            onZero: false,
            lineStyle: {
              color: '#333',
            },
          },
          axisLabel: {
            show: false,
            position: 'top',
            showMaxLabel: true, //显示尾轴
            showMinLabel: true, //显示头轴
            formatter: '{yyyy}-{MM}-{dd}', // 得到的 label 形如：'2020-12-02'
            textStyle: {
              fontSize: 16,
              color: '#333',
            },
          },
        },
      ],

      yAxis: [
        /** 左Y轴 */
        {
          min: -0.8,
          max: 0.8,
          interval: 0.4,
          type: 'value',
          /** 刻度线 */
          axisTick: {
            length: 8,
            show: true,
            inside: true,
          },
          /** 轴线 */
          axisLine: {
            lineStyle: {
              color: '#333',
            },
          },
          /** 轴标签 */
          axisLabel: {
            textStyle: {
              fontSize: 16,
              color: '#333',
            },
          },
          /** 网格线 */
          splitLine: {
            lineStyle: {
              color: '#ccc',
            },
          },
        },
        /** 右Y轴 */
        {
          /** @note 此处数据要和上面保持一致才能显示刻度线 */
          alignTicks: true, //自动对齐
          min: -0.8,
          max: 0.8,
          interval: 0.4,
          type: 'value',
          axisTick: {
            length: 8,
            show: true,
            inside: true,
          },
          axisLine: {
            lineStyle: {
              color: '#333',
            },
          },
          axisLabel: {
            show: false,
            textStyle: {
              fontSize: 16,
              color: '#333',
            },
          },
          splitLine: {
            lineStyle: {
              color: '#ccc',
            },
          },
        },
      ],
      /** 数据显示列 */
      series: [
        {
          name: 'AT9-1-X',
          type: 'line',
          symbol: 'triangle',
          lineStyle: {
            width: 1,
          },
          data: [
            [1659283200000, 0.21],
            [1659485328000, -0.312135],
            [1659586389000, 0.011737],
            [1659687449000, 0.412502],
            [1659788510000, -0.01197],
            [1659889571000, 0.511861],
            [1659990632000, 0.010469],
            [1659991693000, 0.411718],
            [1660092753000, 0.011102],
            [1660193814000, 0.312144],
            [1660294875000, 0.012951],
            [1660395936000, -0.210856],
            [1660405936000, -0.310856],
            [1661415936000, 0.410856],
            [1661425936000, 0.510856],
            [1661961599000, -0.610856],
          ],
        },

        {
          name: 'AT9-1-Y',
          type: 'line',
          symbol: 'rect',

          lineStyle: {
            width: 1,
          },
          data: [
            [1659283200000, 0.31],
            // {value: [1659384267000, 0.003719], symbol: 'circle', symbolSize: 8},
            [1659485328000, 0.212135],
            [1659586389000, -0.111737],
            [1659687449000, 0.312502],
            [1659788510000, 0.21197],
            [1659889571000, -0.311861],
            [1659990632000, 0.210469],
            [1659991693000, -0.211718],
            [1660092753000, 0.111102],
            // {value: [1660193814000, 0.512144], symbol: 'circle', symbolSize: 8},
            [1660294875000, 0.212951],
            [1661961599000, 0.110856],
          ],
        },
      ],
    }

    // 使用刚指定的配置项和数据显示图表。
    chart.setOption(the_option)
  </script>
</html>
